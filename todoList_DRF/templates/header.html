{% load static %}
<div class="headers">
    <h1> Todo List</h1>
    <div class="menu-bar menu">
      <a class="menu-link" href="{% url 'todo:todo_List' %}">๐ ํ ์ผ ๋ชฉ๋ก</a>

      {% if user.is_authenticated %}
        <a href="#" id="logoutBtn" class="menu-link logout-link">๐ช ๋ก๊ทธ์์</a>
      {% else %}
        <a class="menu-link" href="{% url 'rest_framework:login' %}?next={% url 'todo:todo_List' %}">๐ ๋ก๊ทธ์ธ</a>
        <a class="menu-link" href="{% url 'signup' %}">๐ ํ์๊ฐ์</a>
      {% endif %}
    </div>
</div>

<script>
  //click event
  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("logoutBtn").addEventListener("click", () => {
      axiosInstance.get("/todo/api/custom-logout/")
      .then(()=> {
        window.location.href="{% url 'todo:todo_List' %}"
      })
      .catch( err => {
        console.error("๋ก๊ทธ์์ ์คํจ:", err);
        alert("๋ก๊ทธ์์ ์ค๋ฅ๊ฐ ๋ฐ์ํ์ต๋๋ค.");
      });

    });   
  });





</script>  